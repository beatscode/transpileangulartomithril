<div class="control-group">
  <div class="controls">
    <h2 id="title">Doctor Profile(s)</h2>
    <div id="choose">
      <select class="span3" ng-model="sDoctor" ng-change="findDoctorLocation();getDoctorSpecialties();" ng-options="s.firstname + ' ' + s.lastname for s in doctors" >
        <option value="">Choose Doctor</option>
      </select>
    </div>
  </div>
</div>

<form class="form-inline" name="form">
<span class="partial-message">*Complete all Tabs and Save Changes before Closing</span>

  <input type="hidden" value="{{sDoctor.id}}" name="doctor_id" id="doctor_id">
  <input type="hidden" name="admin_action" value="{{admin_action}}">

  <div class="tabbable">
    <ul class="nav nav-tabs">
      <li class="active">
        <a href="#tab1" data-toggle="tab">General</a>
      </li>
            <li>
        <a href="#tab2" data-toggle="tab">Biography</a>
      </li>
      <li>
        <a href="#tab3" data-toggle="tab">More Info</a>
      </li>
    </ul>

    <div class="tab-content">

      <!-- START TAB ONE -->
      <div class="tab-pane active" id="tab1">

        <div class="row-fluid">

          <!-- Begin span3 -->
          <div class="span3">
            <div class="row-fluid">
              <h3>Doctor Photo</h3>
              <!-- <div class="span6">Doctor CV</div>-->
            </div>

            <div class="row-fluid">
              <div ng-show="uploadifyFallBack == false" >
                <div class="profile-photo span11" >
                  <div data-ng-show="sDoctor.uploads.image_media_id" class="photo-preview-container">
                    <a data-ng-click="deleteMedia(sDoctor.uploads.image_media_id,'photo_media_id')" class="delete-button btn btn-danger">X</a>
                    <img ng-src="{{sDoctor.uploads.image_url}}" class="photo-preview"/>
                    <div class="uploaded-name"></div>
                  </div>
                  <div data-ng-hide="sDoctor.uploads.image_media_id" class="none-uploaded"></div>
                </div>
              </div>
              <!--
              <div class="row-fluid">
                <div class="profile-cv span11" style="margin-top:5px">
                  <div data-ng-show="sDoctor.uploads.cv_media_id">
                    <a data-ng-click="deleteMedia(sDoctor.uploads.cv_media_id,'cv_media_id')" class="delete-button btn btn-danger">X</a>
                    <a href="{{sDoctor.uploads.cv_url}}" target="_blank"><img ng-src='{{base_url}}/images/officedoc.png' class="cv-icon"/></a>
                    <div class="uploaded-name">{{sDoctor.uploads.cv_name}}</div>
                  </div>
                  <label class="checkbox inline checkbox-label use-on-profile-page" data-ng-show="sDoctor.uploads.cv_media_id">
                  <br/><input type="checkbox" name="" ng-false-value="0" ng-true-value="1" ng-model="sDoctor.uploads.useCv">Use on Doctor Profile page</label>
                  <div data-ng-hide="sDoctor.uploads.cv_media_id" class="none-uploaded">No CV Uploaded</div>
                </div>
              </div>
              -->
            </div>
            <div ng-show="uploadifyFallBack == false">
              <div class="row-fluid">
                <div id="fileQueue"></div>
              </div>
              <div class="row-fluid pushrow upload-button-container">
                <div class="upload-button span11">
                  <input type="file" name="uploadify" id="photo-uploadify"/>
                </div>
                <!--<div class="span6 upload-button">
                  <input type="file" name="uploadify" id="cv-uploadify"/>
                </div>-->
              </div>
            </div>


            <div ng-show="uploadifyFallBack == true" class="span12">
              <div class="current-logo">
                Flash is not installed. Please install flash to use uploading feature.
              </div>
            </div>

            <div class="row-fluid">
              <div id="formats" class="profile-format">
                <h3 class="format-note">Note:</h3>
                <strong>Max File Size:</strong> 5MB
                <br/><strong>Formats supported:</strong> .JPG, .PNG, .GIF
              </div>
            </div>

          </div>
          <!-- End span3 -->


          <div class="span9">
            <div class="row-fluid">

              <!-- Begin span7 -->
              <div class="span7">
                <h3>Doctor Profile</h3>
                <div class="row-fluid">
                  <label for="doctor_prefix">Prefix<br />
                    <input type="text" name="doctor_prefix" placeholder="" ng-model="sDoctor.prefix" class="input-medium " maxlength="20" restriction="prefix-suffix-only" />
                  </label>
                </div>

                <div class="row-fluid">
                  <label for="doctor_firstname">First Name<br/>
                    <input type="text" name="doctor_firstname" placeholder="" ng-model="sDoctor.firstname" class="input-medium" maxlength="65" required restriction="letters-only" />
                  </label>

                  <label for="doctor_initial">Initial<br/>
                    <input type="text" name="doctor_initial" placeholder="" ng-model="sDoctor.initial" maxlength="2" class="input-mini" restriction="initial-only" />
                  </label>
                </div>

                <div class="row-fluid">
                  <label for="doctor_lastname">Last Name<br/>
                    <input type="text" name="doctor_lastname" placeholder="" ng-model="sDoctor.lastname" class="input-medium" maxlength="65" required restriction="last-name-only" />
                  </label>

                  <label for="doctor_suffix">Suffix<br/>
                    <input type="text" name="doctor_suffix" placeholder="" ng-model="sDoctor.suffix" maxlength="5" class="input-mini" restriction="prefix-suffix-only" />
                  </label>
                </div>

                <div class="row-fluid">
                  <div class="span8">
                    <label for="doctor_title">Title<br/>
                    <input type="text" name="doctor_title" placeholder="" ng-model="sDoctor.title" value="" class="input-medium" maxlength="65" restriction="title-only" /></label>
                  </div>

                  <div class="span4">
                    <label for="doctor_gender">Gender
                      <div data-toggle-name="is_private" data-toggle="buttons-radio" class="sex-radio-buttons">
                        <label class="radio">M&nbsp;<input type="radio" value="m" ng-model="sDoctor.gender" name="doctor_gender" ng-true-value="m" data-toggle="button" required/></label>
                        <label class="radio">F&nbsp;<input type="radio" value="f" name="doctor_gender" ng-model="sDoctor.gender" ng-true-value="f" data-toggle="button"/></label>
                      </div>
                      <input type="hidden" name="is_private" value="{{sDoctor.gender}}" />
                    </label>
                  </div>
                </div>
              </div>
              <!-- End span7 -->

              <!-- Begin span5 -->
              <div class="span5">
                <div class="row-fluid">

                  <div data-ng-class="{confirmdelete: askForDeleteConfirm}" class="profile-delete">
                      <div class="row-fluid" data-ng-show="askForDeleteConfirm">
                          <div class="are-you-sure-question span4"><strong>Are you sure?</strong><br/>(Cannot be undone)</div>
                          <div class="span7 delete-confirm">
                            <button class="btn btn-danger" type="button" ng-click="confirmDelete(); removedoctor();">Delete Doctor Profile</button>
                            <a ng-click="cancelDelete()" class="are-you-sure-no">Cancel</a>
                          </div>
                      </div>

                    <button class="btn btn-danger pull-right" type="button" ng-click="removedoctor()" data-ng-hide="askForDeleteConfirm">Delete Doctor Profile</button>
                  </div>

                </div>

                <div class="row-fluid">
                  <label for="doctor_specialty">Specialties<br/>
                    <select class="specialties-list" style="height:150px" multiple name="doctor_specialty" ng-model="sDoctor.specialties" data-ng-options="s.spe_id as s.spe_name group by s.groupname for s in specialties" required>
                      <option value=""></option>
                    </select>
                  </label>
                </div>

             <!--    <div class="row-fluid">
                  <label for="doctor_sub_specialty">Secondary Specialty<br/>
                    <select name="doctor_sub_specialty" ng-model="sDoctor.sub_specialty_id" data-ng-options="s.spe_id as s.spe_name group by s.groupname for s in specialties">
                      <option value=""></option>
                    </select>
                  </label>
                </div> -->
                 <div class="row-fluid">
                  <label for="doctor_sub_specialty">Location(s)<br/>
                    <select class="" ng-model="sLocation" ng-change="sDoctor.location_id=sLocation.id" ng-options="s.practice_name + ' ' + s.addressline1 for s in locations">
                        <option value="">Choose Location</option>
                    </select>

                  <!--   <select name="doctor_sub_specialty" ng-model="sDoctor.sub_specialty_id" data-ng-options="">
                      <option value=""></option>
                    </select> -->
                  </label>
                </div>
              </div>
              <!-- End span5 -->

            </div>

            <div class="row-fluid">
              <div class="add-another-profile-wrapper">
                  <strong>Save and</strong>
                  <br/><button class="btn btn-primary" type="button" id="add-another" ng-click="addDoctor()">Add Another Doctor Profile</button>
              </div>
            </div>

          </div>
          <!-- End span9 -->

        </div>

      </div>
      <!-- END TAB ONE -->


      <div class="tab-pane" id="tab2">
            <div class="row-fluid">
              <div class="span12 doctor_biography">
                <textarea id="doctor_biography" placeholder="Biography" rows="5" name="doctor_biography" ng-model="sDoctor.biography" redactor></textarea>
              </div>
            </div>
      </div>


      <!-- START TAB THREE -->
      <div class="tab-pane" id="tab3">

        <div class="row-fluid">
          <div class="span6">
            Education
            <div class="control-group doctor_more_info_box">
              <textarea id="education" placeholder="Education"  rows="5" value="{{sDoctor.medschool}}" name="doctor_medschool" ng-model="sDoctor.medschool" redactor="{ buttons: ['bold', 'italic', 'underline', '|',
            'unorderedlist', 'orderedlist', 'outdent']}"></textarea>
            </div>
          </div>

          <div class="span6">
            Board Certifications
            <div class="control-group doctor_more_info_box">
              <textarea id="board_certificates" placeholder="Board Certications"  rows="5" value="{{sDoctor.board_certificates}}" name="doctor_board_certificates" ng-model="sDoctor.board_certificates" redactor="{ buttons: ['bold', 'italic', 'underline', '|',
            'unorderedlist', 'orderedlist', 'outdent']}"></textarea>
            </div>
          </div>
        </div>

        <div class="row-fluid second-row-info">
          <div class="span6">
            Healthcare Network / Hospital Admitting Privileges
            <div class="control-group doctor_more_info_box">
              <textarea id="residency" placeholder="Hospital admitting privileges"  rows="5" value="{{sDoctor.residency}}" name="doctor_residency" ng-model="sDoctor.residency" redactor="{ buttons: ['bold', 'italic', 'underline', '|',
            'unorderedlist', 'orderedlist', 'outdent']}"></textarea>
            </div>
          </div>

          <div class="span6">
            Professional Membership, Awards, etc.
            <div class="control-group doctor_more_info_box">
              <textarea id="organizations" placeholder="Orginizations and Memberships"  rows="5" value="{{sDoctor.organizations}}" name="doctor_organizations" ng-model="sDoctor.organizations" redactor="{ buttons: ['bold', 'italic', 'underline', '|',
            'unorderedlist', 'orderedlist', 'outdent']}"></textarea>
            </div>
          </div>
        </div>
      </div>
      <!-- END TAB TWO -->
    </div><!-- Tab holder -->

  <div class="bottom-controls">

      <div class="pull-right">
        <button class="btn btn-primary save-button" type="button" data-ng-click="saveDoctors($event);">Save</button>
        <a data-ng-click="exitForm(currentOption);" class="close-partial">Close</a>
      </div>

      <div class="pull-right">
        <div class="alert alert-error" ng-show="hasError">{{errorMsg}}</div>
        <div class="alert alert-success" ng-show="status" >{{status}}</div>
      </div>
      
      <div class="partialinfobox">
          <div ng-show="show_long_info"><strong>INFO:</strong> {{long_info_text}}</div>
          <div ng-show="!show_long_info"><strong>INFO:</strong> {{short_info_text}}</div>
      </div>
      <div class="partialinfobox-arrow">
          <a class = "partialinfobox-arrow-a" href ng-click="show_long_info = !show_long_info;">
              <span ng-show="show_long_info">&#x25B2;</span>
              <span ng-show="!show_long_info">&#x25BC;</span>
          </a>
      </div>
    </div>
</form>
